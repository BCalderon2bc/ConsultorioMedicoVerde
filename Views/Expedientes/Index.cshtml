@model IEnumerable<ConsultorioVerde.Web.Models.ExpedienteViewModel>

@{
    ViewData["Title"] = "Historial Clínico";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="text-verde fw-bold"><i class="bi bi-file-earmark-medical-fill me-2"></i>Expedientes Clínicos</h2>
        <p class="text-muted">Historial detallado de diagnósticos y evoluciones</p>
    </div>
    <div class="d-flex gap-2">
        <input type="text" class="form-control" placeholder="Buscar por cédula o nombre..." style="width: 250px;">
        <button class="btn btn-outline-success"><i class="bi bi-search"></i></button>
    </div>
</div>

@foreach (var item in Model)
{
    <div class="card shadow-sm border-0 mb-4 border-start border-success border-5">
        <div class="card-header bg-white d-flex justify-content-between align-items-center py-3">
            <span class="badge bg-success"><i class="bi bi-calendar-event me-1"></i> @item.FechaConsulta.ToShortDateString()</span>
            <h5 class="m-0 fw-bold text-dark">Paciente: @item.NombrePaciente</h5>
            <div class="dropdown">
                <button class="btn btn-light btn-sm shadow-sm" type="button" data-bs-toggle="dropdown">
                    <i class="bi bi-three-dots-vertical"></i>
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#"><i class="bi bi-printer me-2"></i>Imprimir</a></li>
                    <li><a class="dropdown-item" href="#"><i class="bi bi-pencil me-2"></i>Editar</a></li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="fw-bold text-verde"><i class="bi bi-activity me-1"></i> Diagnóstico:</label>
                    <p class="border-bottom pb-2">@item.Diagnostico</p>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="fw-bold text-verde"><i class="bi bi-capsule me-1"></i> Tratamiento:</label>
                    <p class="border-bottom pb-2">@item.Tratamiento</p>
                </div>
                <div class="col-12">
                    <label class="fw-bold text-verde"><i class="bi bi-chat-left-text me-1"></i> Observaciones:</label>
                    <p class="bg-light p-3 rounded">@item.Observaciones</p>
                </div>
            </div>
        </div>
    </div>
}